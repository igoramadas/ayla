extends layout

block contents
    #weather
        ul.maingrid.large-block-grid-3

            li.inside
                div
                    h2 Inside
                    div.summary(data-bind="with: indoorAvg")
                        span.temperature(data-bind="text: temperature + '°C'")
                        span.humidity(data-bind="text: humidity + '%'")
                        span.co2(data-bind="text: co2 + 'ppm'")

                    table
                        thead
                            tr
                                th.title Room
                                th.temperature Temp
                                th.humidity Humidity
                                th.co2 CO2
                        tbody(data-bind="foreach: rooms")
                            tr.room(data-bind="css: $root[id]().conditionCss, with: $root[id]")
                                td.title(data-bind="text: title")
                                td.temperature(data-bind="text: temperature ? temperature + '°C' : '-'")
                                td.humidity(data-bind="text: humidity ? humidity + '%' : '-'")
                                td.co2(data-bind="text: co2 ? co2 + ' ppm' : '-'")

            li.outside
                div
                    h2 Outside
                    div.summary
                        span.temperature(data-bind="text: outdoor().temperature ? outdoor().temperature + '°C' : '-'")
                        span.humidity(data-bind="text: outdoor().humidity ? outdoor().humidity + '%' : '-'")
                        span.rain(data-bind="text: outdoor().rain ? outdoor().rain + 'mm' : '0mm'")
                        div.icon(data-bind="css: conditions().icon")

                    table
                        thead
                            tr
                                th.title Date
                                th.icon
                                th.temperature Temp
                                th.humidity Humidity
                                th.wind Wind
                        tbody
                            tr(data-bind="with: conditions")
                                td.date Now
                                td.icon(data-bind="css: icon")
                                td.temperature(data-bind="text: temperature ? temperature + '°C' : '-'")
                                td.humidity(data-bind="text: humidity ? humidity + '%' : '-'")
                                td.wind(data-bind="text: windSpeed > 0 ? wind : '0kph'")
                            // ko foreach: forecast
                            tr
                                td.date(data-bind="text: dateString")
                                td.icon(data-bind="css: icon")
                                td.min(data-bind="text: highTemp + ' / ' + lowTemp + '°C'")
                                td.humidity(data-bind="text: avgHumidity + '%'")
                                td.wind(data-bind="text: avgWind")
                            // /ko

            li.picture
                div
                    h2 Camera
                    div.camera
                        img(src="/camera/random.jpg")
